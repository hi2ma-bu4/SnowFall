{"version":3,"file":"snowfall.min.js","names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","module","ReferenceError","__esModule","TypeError","isNativeReflectConstruct","setPrototypeOf","Reflect","construct","apply","arguments","push","bind","prototype","toPropertyKey","_defineProperties","enumerable","configurable","writable","Object","defineProperty","key","value","_getPrototypeOf","getPrototypeOf","__proto__","create","constructor","default","Function","toString","indexOf","_isNativeReflectConstruct","Boolean","valueOf","_typeof","assertThisInitialized","_setPrototypeOf","Symbol","toPrimitive","String","Number","iterator","isNativeFunction","_wrapNativeSuper","Map","has","get","set","Wrapper","this","_lexer","_parser","Snowfall","_createClass2","_classCallCheck2","_defineProperty2","Lexer","Parser","window","tokens","tokenize","console","log","ast","parse","LexerError","_Error","_inherits2","input","newline","string","keyword","identifier","number","operator","semicolon","input_length","position","rowCounter","colCounter","oldPosition","oldRowCounter","oldColCounter","advance","diff","undefined","currentChar","commit","getCurrentChar","test","_currentChar","advanceCommit","kwStr","includes","type","rollback","idStr","numberStr","stringStr","quote","is_multi_line","skipWhitespace","skipComment","_step","token","continueFlag","_iterator","_createForOfIteratorHelper","funcList","s","done","func","err","logError","concat","message","ParserError","tokens_length","currentToken","skipNewline","getCurrentToken","_len","Array","_key","match","dataType","name","program","body","declaration","variableDeclaration","JSON","stringify"],"sources":["node_modules/browser-pack/_prelude.js","node_modules/@babel/runtime/helpers/assertThisInitialized.js","node_modules/@babel/runtime/helpers/classCallCheck.js","node_modules/@babel/runtime/helpers/construct.js","node_modules/@babel/runtime/helpers/createClass.js","node_modules/@babel/runtime/helpers/defineProperty.js","node_modules/@babel/runtime/helpers/getPrototypeOf.js","node_modules/@babel/runtime/helpers/inherits.js","node_modules/@babel/runtime/helpers/interopRequireDefault.js","node_modules/@babel/runtime/helpers/isNativeFunction.js","node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js","node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","node_modules/@babel/runtime/helpers/setPrototypeOf.js","node_modules/@babel/runtime/helpers/toPrimitive.js","node_modules/@babel/runtime/helpers/toPropertyKey.js","node_modules/@babel/runtime/helpers/typeof.js","node_modules/@babel/runtime/helpers/wrapNativeSuper.js","src/index.ts","src/lib/lexer.ts","src/lib/parser.ts"],"sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","function _assertThisInitialized(e) {\n  if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  return e;\n}\nmodule.exports = _assertThisInitialized, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _classCallCheck(a, n) {\n  if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\");\n}\nmodule.exports = _classCallCheck, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var isNativeReflectConstruct = require(\"./isNativeReflectConstruct.js\");\nvar setPrototypeOf = require(\"./setPrototypeOf.js\");\nfunction _construct(t, e, r) {\n  if (isNativeReflectConstruct()) return Reflect.construct.apply(null, arguments);\n  var o = [null];\n  o.push.apply(o, e);\n  var p = new (t.bind.apply(t, o))();\n  return r && setPrototypeOf(p, r.prototype), p;\n}\nmodule.exports = _construct, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var toPropertyKey = require(\"./toPropertyKey.js\");\nfunction _defineProperties(e, r) {\n  for (var t = 0; t < r.length; t++) {\n    var o = r[t];\n    o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, toPropertyKey(o.key), o);\n  }\n}\nfunction _createClass(e, r, t) {\n  return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", {\n    writable: !1\n  }), e;\n}\nmodule.exports = _createClass, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var toPropertyKey = require(\"./toPropertyKey.js\");\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nmodule.exports = _defineProperty, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _getPrototypeOf(t) {\n  return module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) {\n    return t.__proto__ || Object.getPrototypeOf(t);\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports, _getPrototypeOf(t);\n}\nmodule.exports = _getPrototypeOf, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\nfunction _inherits(t, e) {\n  if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\");\n  t.prototype = Object.create(e && e.prototype, {\n    constructor: {\n      value: t,\n      writable: !0,\n      configurable: !0\n    }\n  }), Object.defineProperty(t, \"prototype\", {\n    writable: !1\n  }), e && setPrototypeOf(t, e);\n}\nmodule.exports = _inherits, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _interopRequireDefault(e) {\n  return e && e.__esModule ? e : {\n    \"default\": e\n  };\n}\nmodule.exports = _interopRequireDefault, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _isNativeFunction(t) {\n  try {\n    return -1 !== Function.toString.call(t).indexOf(\"[native code]\");\n  } catch (n) {\n    return \"function\" == typeof t;\n  }\n}\nmodule.exports = _isNativeFunction, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _isNativeReflectConstruct() {\n  try {\n    var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n  } catch (t) {}\n  return (module.exports = _isNativeReflectConstruct = function _isNativeReflectConstruct() {\n    return !!t;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports)();\n}\nmodule.exports = _isNativeReflectConstruct, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nvar assertThisInitialized = require(\"./assertThisInitialized.js\");\nfunction _possibleConstructorReturn(t, e) {\n  if (e && (\"object\" == _typeof(e) || \"function\" == typeof e)) return e;\n  if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\");\n  return assertThisInitialized(t);\n}\nmodule.exports = _possibleConstructorReturn, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _setPrototypeOf(t, e) {\n  return module.exports = _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports, _setPrototypeOf(t, e);\n}\nmodule.exports = _setPrototypeOf, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nmodule.exports = toPrimitive, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nvar toPrimitive = require(\"./toPrimitive.js\");\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nmodule.exports = toPropertyKey, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports, _typeof(o);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var getPrototypeOf = require(\"./getPrototypeOf.js\");\nvar setPrototypeOf = require(\"./setPrototypeOf.js\");\nvar isNativeFunction = require(\"./isNativeFunction.js\");\nvar construct = require(\"./construct.js\");\nfunction _wrapNativeSuper(t) {\n  var r = \"function\" == typeof Map ? new Map() : void 0;\n  return module.exports = _wrapNativeSuper = function _wrapNativeSuper(t) {\n    if (null === t || !isNativeFunction(t)) return t;\n    if (\"function\" != typeof t) throw new TypeError(\"Super expression must either be null or a function\");\n    if (void 0 !== r) {\n      if (r.has(t)) return r.get(t);\n      r.set(t, Wrapper);\n    }\n    function Wrapper() {\n      return construct(t, arguments, getPrototypeOf(this).constructor);\n    }\n    return Wrapper.prototype = Object.create(t.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: !1,\n        writable: !0,\n        configurable: !0\n      }\n    }), setPrototypeOf(Wrapper, t);\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports, _wrapNativeSuper(t);\n}\nmodule.exports = _wrapNativeSuper, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","import { Lexer } from \"./lib/lexer\";\nimport { Parser } from \"./lib/parser\";\n\ndeclare global {\n\tinterface Window {\n\t\tSnowfall: typeof Snowfall;\n\t}\n}\n\nclass Snowfall {\n\tpublic static Lexer: typeof Lexer = Lexer;\n\tpublic static Parser: typeof Parser = Parser;\n}\n\nif (typeof window !== \"undefined\") {\n\twindow.Snowfall = Snowfall;\n}\n\nconst input = `\nint x = 5;\nint y = 10;\nint apple = 1;\nint a = x; // とりあえず、xの値を代入\nint b = apple;\n\n/*\n    データだよ()\n*/\n\nstring hoge = \"fuga\";\n\n`;\n\nconst lexer = new Lexer(input);\nconst tokens = lexer.tokenize();\nconsole.log(tokens);\n\nconst parser = new Parser(tokens);\nconst ast = parser.parse();\nconsole.log(ast);\n","type Token = {\n\ttype: string;\n\tvalue: string;\n};\n\nclass LexerError extends Error {}\n\nclass Lexer {\n\tprivate input: string;\n\tprivate input_length: number;\n\tprivate position: number;\n\tprivate rowCounter: number;\n\tprivate colCounter: number;\n\tprivate oldPosition: number;\n\tprivate oldRowCounter: number;\n\tprivate oldColCounter: number;\n\tprivate currentChar: string | null = null;\n\tprivate funcList = [\n\t\t// 実行関数\n\t\tthis.newline.bind(this),\n\t\tthis.string.bind(this),\n\t\tthis.keyword.bind(this),\n\t\tthis.identifier.bind(this),\n\t\tthis.number.bind(this),\n\t\tthis.operator.bind(this),\n\t\tthis.semicolon.bind(this),\n\t];\n\n\tconstructor(input: string) {\n\t\tthis.input = input;\n\t\tthis.input_length = input.length;\n\t\tthis.position = 0;\n\t\tthis.rowCounter = 0;\n\t\tthis.colCounter = 0;\n\t\tthis.oldPosition = -1;\n\t\tthis.oldRowCounter = 0;\n\t\tthis.oldColCounter = 0;\n\t\tthis.advance(); // 初期化\n\t}\n\n\tprivate getCurrentChar(diff: number | null = null): string | null {\n\t\tif (diff) {\n\t\t\tdiff--;\n\t\t\treturn this.input[this.position + diff] || null;\n\t\t}\n\t\treturn this.currentChar;\n\t}\n\n\tprivate advance(): void {\n\t\tif (this.position < this.input_length) {\n\t\t\tthis.currentChar = this.input[this.position];\n\t\t\tthis.position++;\n\t\t\tthis.colCounter++;\n\t\t} else {\n\t\t\tthis.currentChar = null;\n\t\t}\n\t}\n\n\tprivate advanceCommit(): void {\n\t\tthis.advance();\n\t\tthis.commit();\n\t}\n\n\tprivate commit(): void {\n\t\tif (this.position > this.oldPosition) {\n\t\t\tthis.oldPosition = this.position;\n\t\t\tthis.oldRowCounter = this.rowCounter;\n\t\t\tthis.oldColCounter = this.colCounter;\n\t\t}\n\t}\n\n\tprivate rollback(): void {\n\t\tif (this.position > this.oldPosition) {\n\t\t\tthis.position = this.oldPosition - 1;\n\t\t\tthis.colCounter = this.oldColCounter - 1;\n\t\t\tthis.rowCounter = this.oldRowCounter;\n\t\t\tthis.advance();\n\t\t}\n\t}\n\n\tprivate skipWhitespace(): void {\n\t\tlet currentChar = this.getCurrentChar();\n\t\twhile (currentChar && /[^\\S\\n]/.test(currentChar)) {\n\t\t\tthis.advance();\n\t\t\tcurrentChar = this.getCurrentChar();\n\t\t}\n\t\tthis.commit();\n\t}\n\n\tprivate skipComment(): void {\n\t\tif (this.getCurrentChar() === \"/\") {\n\t\t\tthis.advance();\n\t\t\tif (this.getCurrentChar() === \"/\") {\n\t\t\t\t// 1行コメント（//）の処理\n\t\t\t\tthis.advance();\n\t\t\t\tlet currentChar = this.getCurrentChar();\n\t\t\t\twhile (this.currentChar && currentChar !== \"\\n\") {\n\t\t\t\t\tthis.advance();\n\t\t\t\t\tcurrentChar = this.getCurrentChar();\n\t\t\t\t}\n\t\t\t\tthis.commit();\n\t\t\t} else if (this.getCurrentChar() === \"*\") {\n\t\t\t\t// 複数行コメント（/*...*/）の処理\n\t\t\t\tthis.advance();\n\t\t\t\tlet currentChar = this.getCurrentChar();\n\t\t\t\twhile (currentChar && !(currentChar === \"*\" && this.getCurrentChar(1) === \"/\")) {\n\t\t\t\t\tif (currentChar === \"\\n\") {\n\t\t\t\t\t\tthis.rowCounter++;\n\t\t\t\t\t\tthis.colCounter = 0;\n\t\t\t\t\t}\n\t\t\t\t\tthis.advance();\n\t\t\t\t\tcurrentChar = this.getCurrentChar();\n\t\t\t\t}\n\t\t\t\tthis.advance();\n\t\t\t\tthis.advanceCommit();\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate keyword(): Token | null {\n\t\tconst keywords = [\"int\", \"string\"];\n\n\t\tlet kwStr = \"\";\n\t\tlet currentChar = this.getCurrentChar();\n\t\twhile (currentChar && /[a-zA-Z]/.test(currentChar)) {\n\t\t\tkwStr += currentChar;\n\t\t\tthis.advance();\n\t\t\tcurrentChar = this.getCurrentChar();\n\t\t}\n\n\t\tif (keywords.includes(kwStr)) {\n\t\t\tthis.commit();\n\t\t\treturn { type: \"KEYWORD\", value: kwStr };\n\t\t}\n\n\t\tthis.rollback();\n\t\treturn null;\n\t}\n\n\tprivate newline(): Token | null {\n\t\tif (this.getCurrentChar() === \"\\n\") {\n\t\t\tthis.rowCounter++;\n\t\t\tthis.colCounter = 0;\n\t\t\tthis.advanceCommit();\n\t\t\treturn { type: \"NEWLINE\", value: \"\\n\" };\n\t\t}\n\t\treturn null;\n\t}\n\n\tprivate identifier(): Token | null {\n\t\tlet idStr = \"\";\n\t\tlet currentChar = this.getCurrentChar();\n\t\tif (currentChar && /[a-zA-Z_]/.test(currentChar)) {\n\t\t\tidStr += currentChar;\n\t\t\tthis.advance();\n\t\t\tcurrentChar = this.getCurrentChar();\n\t\t\twhile (currentChar && /[0-9a-zA-Z_]/.test(currentChar)) {\n\t\t\t\tidStr += currentChar;\n\t\t\t\tthis.advance();\n\t\t\t\tcurrentChar = this.getCurrentChar();\n\t\t\t}\n\t\t}\n\t\tif (idStr) {\n\t\t\tthis.commit();\n\t\t\treturn { type: \"IDENTIFIER\", value: idStr };\n\t\t}\n\t\tthis.rollback();\n\t\treturn null;\n\t}\n\n\tprivate number(): Token | null {\n\t\tlet numberStr = \"\";\n\t\twhile (this.currentChar && /[0-9]/.test(this.currentChar)) {\n\t\t\tnumberStr += this.currentChar;\n\t\t\tthis.advance();\n\t\t}\n\t\tif (numberStr) {\n\t\t\tthis.commit();\n\t\t\treturn { type: \"NUMBER\", value: numberStr };\n\t\t}\n\t\tthis.rollback();\n\t\treturn null;\n\t}\n\n\tprivate string(): Token | null {\n\t\tlet stringStr = \"\";\n\t\tlet quote = this.getCurrentChar();\n\t\tlet is_multi_line = false;\n\t\tif (quote === \"`\") {\n\t\t\tis_multi_line = true;\n\t\t}\n\t\tif (quote === '\"' || quote === \"'\" || is_multi_line) {\n\t\t\tthis.advance();\n\t\t\tlet currentChar = this.getCurrentChar();\n\t\t\twhile (currentChar && currentChar !== quote && (is_multi_line || currentChar !== \"\\n\")) {\n\t\t\t\tstringStr += currentChar;\n\t\t\t\tif (currentChar === \"\\n\") {\n\t\t\t\t\tthis.rowCounter++;\n\t\t\t\t\tthis.colCounter = 0;\n\t\t\t\t}\n\t\t\t\tthis.advance();\n\t\t\t\tcurrentChar = this.getCurrentChar();\n\t\t\t}\n\t\t\tif (currentChar === quote) {\n\t\t\t\tthis.advanceCommit();\n\t\t\t\treturn { type: \"STRING\", value: stringStr };\n\t\t\t}\n\t\t}\n\t\tthis.rollback();\n\t\treturn null;\n\t}\n\n\tprivate operator(): Token | null {\n\t\tlet currentChar = this.getCurrentChar();\n\t\tswitch (currentChar) {\n\t\t\tcase \"+\":\n\t\t\t\tthis.advanceCommit();\n\t\t\t\treturn { type: \"PLUS\", value: \"+\" };\n\t\t\tcase \"-\":\n\t\t\t\tthis.advanceCommit();\n\t\t\t\treturn { type: \"MINUS\", value: \"-\" };\n\t\t\tcase \"*\":\n\t\t\t\tthis.advanceCommit();\n\t\t\t\tif (this.getCurrentChar() === \"*\") {\n\t\t\t\t\tthis.advanceCommit();\n\t\t\t\t\treturn { type: \"POWER\", value: \"**\" };\n\t\t\t\t}\n\t\t\t\treturn { type: \"MULTIPLY\", value: \"*\" };\n\t\t\tcase \"^\":\n\t\t\t\tthis.advanceCommit();\n\t\t\t\treturn { type: \"POWER\", value: \"^\" };\n\t\t\tcase \"/\":\n\t\t\t\tthis.advanceCommit();\n\t\t\t\treturn { type: \"DIVIDE\", value: \"/\" };\n\t\t\tcase \"%\":\n\t\t\t\tthis.advanceCommit();\n\t\t\t\treturn { type: \"MODULO\", value: \"%\" };\n\t\t\tcase \"|\":\n\t\t\t\tthis.advanceCommit();\n\t\t\t\tif (this.getCurrentChar() === \"|\") {\n\t\t\t\t\tthis.advanceCommit();\n\t\t\t\t\treturn { type: \"OR\", value: \"||\" };\n\t\t\t\t}\n\t\t\t\treturn { type: \"BIT_OR\", value: \"|\" };\n\t\t\tcase \"&\":\n\t\t\t\tthis.advanceCommit();\n\t\t\t\tif (this.getCurrentChar() === \"&\") {\n\t\t\t\t\tthis.advanceCommit();\n\t\t\t\t\treturn { type: \"AND\", value: \"&&\" };\n\t\t\t\t}\n\t\t\t\treturn { type: \"BIT_AND\", value: \"&\" };\n\t\t\tcase \"<\":\n\t\t\t\tthis.advanceCommit();\n\t\t\t\tif (this.getCurrentChar() === \"=\") {\n\t\t\t\t\tthis.advanceCommit();\n\t\t\t\t\treturn { type: \"LESS_THAN_OR_EQUAL\", value: \"<=\" };\n\t\t\t\t} else if (this.getCurrentChar() === \"<\") {\n\t\t\t\t\tthis.advanceCommit();\n\t\t\t\t\treturn { type: \"SHIFT_LEFT\", value: \"<<\" };\n\t\t\t\t}\n\t\t\t\treturn { type: \"LESS_THAN\", value: \"<\" };\n\t\t\tcase \">\":\n\t\t\t\tthis.advanceCommit();\n\t\t\t\tif (this.getCurrentChar() === \"=\") {\n\t\t\t\t\tthis.advanceCommit();\n\t\t\t\t\treturn { type: \"GREATER_THAN_OR_EQUAL\", value: \">=\" };\n\t\t\t\t} else if (this.getCurrentChar() === \">\") {\n\t\t\t\t\tthis.advanceCommit();\n\t\t\t\t\treturn { type: \"SHIFT_RIGHT\", value: \">>\" };\n\t\t\t\t}\n\t\t\t\treturn { type: \"GREATER_THAN\", value: \">\" };\n\t\t\tcase \"=\":\n\t\t\t\tthis.advanceCommit();\n\t\t\t\tif (this.getCurrentChar() === \"=\") {\n\t\t\t\t\tthis.advanceCommit();\n\t\t\t\t\tif (this.getCurrentChar() === \"=\") {\n\t\t\t\t\t\tthis.advanceCommit();\n\t\t\t\t\t\treturn { type: \"TRIPLE_EQUALS\", value: \"===\" };\n\t\t\t\t\t}\n\t\t\t\t\treturn { type: \"EQUALS\", value: \"==\" };\n\t\t\t\t}\n\t\t\t\treturn { type: \"ASSIGN\", value: \"=\" };\n\t\t\tdefault:\n\t\t\t\tthis.rollback();\n\t\t\t\treturn null;\n\t\t}\n\t}\n\n\tprivate semicolon(): Token | null {\n\t\tif (this.currentChar === \";\") {\n\t\t\tthis.advance();\n\t\t\treturn { type: \"SEMICOLON\", value: \";\" };\n\t\t}\n\t\treturn null;\n\t}\n\n\tpublic tokenize(): Token[] {\n\t\tconst tokens: Token[] = [];\n\n\t\twhile (this.getCurrentChar() !== null) {\n\t\t\t// 空白\n\t\t\tthis.skipWhitespace();\n\t\t\t// コメント\n\t\t\tthis.skipComment();\n\n\t\t\tlet token,\n\t\t\t\tcontinueFlag = false;\n\t\t\tfor (let func of this.funcList) {\n\t\t\t\tif ((token = func())) {\n\t\t\t\t\ttokens.push(token);\n\t\t\t\t\tcontinueFlag = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (continueFlag) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// 未知の文字があればエラー\n\t\t\tthis.logError(`Unknown character: \"${this.getCurrentChar()}\"`);\n\t\t}\n\n\t\treturn tokens;\n\t}\n\n\tprivate logError(message: string): void {\n\t\tthrow new LexerError(`${message} (${this.rowCounter}:${this.colCounter}{${this.position}})`);\n\t}\n}\n\nexport { Lexer, Token };\n","import { Token } from \"./lexer\";\n\nclass ParserError extends Error {}\n\ntype ASTNode = ASTNodeProgram | ASTNodeVariableDeclaration | ASTNodeLiteral;\n\ntype ASTNodeProgram = { type: \"Program\"; body: ASTNode[] };\ntype ASTNodeVariableDeclaration = { type: \"VariableDeclaration\"; dataType: string; name: string; value: any };\ntype ASTNodeLiteral = { type: \"Literal\"; value: number | string };\n\nclass Parser {\n\tprivate tokens: Token[];\n\tprivate tokens_length: number;\n\tprivate position: number;\n\tprivate rowCounter: number;\n\tprivate colCounter: number;\n\tprivate oldPosition: number;\n\tprivate oldRowCounter: number;\n\tprivate oldColCounter: number;\n\tprivate currentToken: Token | null = null;\n\n\tconstructor(tokens: Token[]) {\n\t\tthis.tokens = tokens;\n\t\tthis.tokens_length = tokens.length;\n\t\tthis.position = 0;\n\t\tthis.rowCounter = 0;\n\t\tthis.colCounter = 0;\n\t\tthis.oldPosition = -1;\n\t\tthis.oldRowCounter = 0;\n\t\tthis.oldColCounter = 0;\n\t\tthis.advance(); // 初期化\n\t}\n\n\tprivate getCurrentToken(diff: number | null = null): Token | null {\n\t\tif (diff) {\n\t\t\tdiff--;\n\t\t\treturn this.tokens[this.position] || null;\n\t\t}\n\t\treturn this.currentToken;\n\t}\n\n\tprivate advance(): void {\n\t\tif (this.position < this.tokens_length) {\n\t\t\tthis.currentToken = this.tokens[this.position] || null;\n\t\t\tthis.position++;\n\t\t\tif (this.currentToken) {\n\t\t\t\tthis.colCounter += this.currentToken.value.length;\n\t\t\t}\n\t\t} else {\n\t\t\tthis.currentToken = null;\n\t\t}\n\t}\n\n\tprivate advanceCommit(): void {\n\t\tthis.advance();\n\t\tthis.commit();\n\t}\n\n\tprivate commit(): void {\n\t\tif (this.position > this.oldPosition) {\n\t\t\tthis.oldPosition = this.position;\n\t\t\tthis.oldRowCounter = this.rowCounter;\n\t\t\tthis.oldColCounter = this.colCounter;\n\t\t}\n\t}\n\n\tprivate rollback(): void {\n\t\tif (this.position > this.oldPosition) {\n\t\t\tthis.position = this.oldPosition - 1;\n\t\t\tthis.rowCounter = this.oldRowCounter;\n\t\t\tthis.colCounter = this.oldColCounter - 1;\n\t\t\tthis.advance();\n\t\t}\n\t}\n\n\tprivate skipNewline(): void {\n\t\tlet currentToken = this.currentToken;\n\t\twhile (currentToken && currentToken.type === \"NEWLINE\") {\n\t\t\tthis.rowCounter++;\n\t\t\tthis.colCounter = 0;\n\t\t\tthis.advance();\n\t\t\tcurrentToken = this.currentToken;\n\t\t}\n\t}\n\n\tprivate match(...type: string[]): Token | null {\n\t\tthis.skipNewline();\n\t\tconst token = this.getCurrentToken();\n\t\tif (token && type.includes(token.type)) {\n\t\t\tthis.advance();\n\t\t\treturn token;\n\t\t}\n\t\treturn null;\n\t}\n\n\tprivate variableDeclaration(): ASTNode | null {\n\t\tconst keyword = this.match(\"KEYWORD\");\n\t\tif (keyword) {\n\t\t\tconst identifier = this.match(\"IDENTIFIER\");\n\t\t\tif (identifier) {\n\t\t\t\tconst equals = this.match(\"ASSIGN\");\n\t\t\t\tif (equals) {\n\t\t\t\t\tconst value = this.match(\"NUMBER\", \"STRING\", \"IDENTIFIER\");\n\t\t\t\t\tif (value) {\n\t\t\t\t\t\tconst semicolon = this.match(\"SEMICOLON\");\n\t\t\t\t\t\tif (semicolon) {\n\t\t\t\t\t\t\tthis.commit();\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\ttype: \"VariableDeclaration\",\n\t\t\t\t\t\t\t\tdataType: keyword.value,\n\t\t\t\t\t\t\t\tname: identifier.value,\n\t\t\t\t\t\t\t\tvalue: value.value,\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.logError(`Expected ';' after variable declaration`);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.logError(`Expected a value after '='`);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.logError(`Expected '=' in variable declaration`);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.logError(`Expected an identifier after type`);\n\t\t\t}\n\t\t}\n\n\t\tthis.rollback();\n\t\treturn null;\n\t}\n\n\tpublic parse(): ASTNode {\n\t\tconst program: ASTNode = { type: \"Program\", body: [] };\n\n\t\twhile (this.position < this.tokens.length) {\n\t\t\tconst declaration = this.variableDeclaration();\n\t\t\tif (declaration) {\n\t\t\t\tprogram.body.push(declaration);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tthis.skipNewline();\n\t\t\tif (this.getCurrentToken() === null) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tthis.logError(`Unexpected token: ${JSON.stringify(this.getCurrentToken())}`);\n\t\t}\n\n\t\treturn program;\n\t}\n\n\tprivate logError(message: string): void {\n\t\tthrow new ParserError(`${message} (${this.rowCounter}:${this.colCounter}{${this.position}})`);\n\t}\n}\n\nexport { Parser };\n"],"mappings":"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","ignoreList":[]}